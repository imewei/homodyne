[tool:pytest]
# Optimized CI configuration for GitHub Actions
testpaths = homodyne/tests/unit homodyne/tests/integration
addopts = 
    --strict-config
    --strict-markers
    --tb=line
    --maxfail=10
    --color=yes
    -q
    --durations=10
    -m "not slow and not mcmc and not ci_skip and not gpu"
    -n auto
    --cov=homodyne
    --cov-report=xml
    --cov-report=term-missing
    --cov-fail-under=80

# Timeout for CI tests
timeout = 300

# Parallel execution settings
addopts += --dist=loadscope

# Skip patterns for CI
collect_ignore = ["homodyne/tests/performance", "homodyne/tests/system/gpu"]